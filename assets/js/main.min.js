$(document).ready(function(){function a(a,b){return localStorage.setItem(a,JSON.stringify(b))}function b(a,b){$.ajax({url:"assets/data/"+a+".json",method:"get",dataType:"json",success:function(a){b(a)},error:function(a){console.log(a)}})}function c(a){const c=$(".sort-form #sort-select").val(),e=$(".sort-form input[type=radio]:checked").val();let f=!0===d.c1?a:a.filter(a=>{let b=!1;return a.category.forEach(a=>{!0===d[a]&&(b=!0)}),b});c&&e&&(f=f.sort((d,a)=>"asc"==e?d[c]<a[c]?-1:d[c]>a[c]?1:0:d[c]>a[c]?-1:d[c]<a[c]?1:0));let g="";f.forEach(a=>{g+=`<div class="col-xl-3 col-lg-4 col-md-6 col-sm-8 text-center">
                        <div class="tittle ">
                            <h4>${a.name}</h4>
                        </div>
                        <div class="image-size my-3">
                            <img class="card-img-top" src="${a.pic.src}" alt="${a.pic.alt}"/>
                        </div>
                        <div class="text text-justify mx-2">
                            <p>
                                ${a.description}
                            </p>
                        </div>
                        <div class="toBottom">
                            <div>
                                <p>
                                    Price: $${a.price}
                                </p>
                            </div>
                            <div class="book">
                                <a href="#Contact" class="btn btn-primary book-it-click" data-service-id="${a.id}">BOOK IT</a>
                            </div>
                        </div>
                    </div>`}),document.getElementById("services").innerHTML=g,$("#contactForm #select-service").html(a.map(a=>`<option value="${a.id}">${a.name}  $${a.price}</option>`).join("")),$("#services .book-it-click").on("click",function(a){const b=$(a.target).attr("data-service-id");$("#contactForm #select-service").val(b)})}let d=function(a,b=null){try{return null===localStorage.getItem(a)?b:JSON.parse(localStorage.getItem(a))}catch(a){return a instanceof SyntaxError&&(console.log("Syntax error: "+a.message),console.error(a.name),console.error(a.fileName),console.error(a.lineNumber)),b}}("categoriesFilter",{c1:!0});b("our-info",function(a){$("#header,#authonHeader").html(a.map(a=>`<div class="col-md-6">
        <div class="top-bar-left">
            <div class="text">
                <h2>${a.workTime}</h2>
                <p>${a.textTime}</p>
            </div>
            <div class="text">
                <h2>${a.ourNumber}</h2>
                <p>${a.numberText}</p>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="top-bar-right">
            <div class="social" id="Social">

            </div>
        </div>
    </div>`))}),b("menu",function(a){$("#menu,#authorMenu").html(a.map(a=>`<a href="${a.href}" class="nav-item nav-link">${a.name}</a>`))}),b("category",function(e){$("#category").html(e.map(a=>`<li data-category-id="${a.id}" class="${!0===d[a.id]?"filter-active":""}">${a.name}</li>`).join("")),$("#category li").on("click",function(f){const e=$(f.target),g=e.attr("data-category-id");return e.hasClass("filter-active")?(1>=$("#category li.filter-active").length&&($("#category li[data-category-id=c1]").addClass("filter-active"),d.c1=!0),e.removeClass("filter-active"),delete d[g],b("services",c),void a("categoriesFilter",d)):void("c1"==g&&($("#category li").removeClass("filter-active"),d={c1:!0}),e.addClass("filter-active"),d[g]=!0,1<$("#category li.filter-active").length&&($("#category li[data-category-id=c1]").removeClass("filter-active"),d.c1&&delete d.c1),b("services",c),a("categoriesFilter",d))}),$(".sort-form #sort-select, .sort-form input[type=radio]").on("change",function(){b("services",c)})}),b("services",c),b("team",function(a){$("#Team").html(a.map(a=>`<div class="col-lg-3 col-md-6">
                                                <div class="team-item">
                                                    <div class="team-img">
                                                        <img src="${a.pic.src}" alt="${a.pic.alt}">
                                                    </div>
                                                    <div class="team-text">
                                                        <h2>${a.name}</h2>
                                                        <p>${a.description}</p>
                                                    </div>
                                                </div>
                                            </div>`))}),b("our-info",function(a){$("#Footer").html(a.map(a=>`<div class="col-md-9">
        <div class="footer-contact">
            <h2>Salon Address</h2>
            <p><i class="${a.ourLocationIcon}"></i>${a.ourLocation}</p>
            <p><i class="${a.ourNumberIcon}"></i>${a.ourNumber}</p>
            <p><i class="${a.ourEmailIcon}"></i>${a.ourEmail}</p>
            <div class="footer-social" id="Footer-social">
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="footer-link">
            <h2>Quick Links</h2>
            <div id="quick">

            </div>

        </div>
        <div class="modal fade" id="Author" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">

            </div>
    </div>
    `))}),b("author",function(a){$("#Author").html(a.map(a=>`<div class="modal-dialog modal-dialog-centered" role="document">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h5 class="modal-title" id="exampleModalLongTitle">${a.title}</h5>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="row">
                                                            <div class="col-sm-12 col-md-6 text-center" id="pauthor">
                                                                <img src="${a.pic.src}" alt="${a.pic.alt}">
                                                            </div>
                                                            <div class="row col-sm-12 col-md-6" id="tauthor">
                                                                <div class="col-sm-12 text-center">
                                                                    <h2>
                                                                    ${a.name}
                                                                    </h2>
                                                                </div>
                                                                <div class="col-md-12 text-center">
                                                                    <p>
                                                                        My index number is ${a.index}
                                                                    </p>
                                                                    <p>
                                                                    ${a.description}
                                                                    </p>
                                                                    <p>
                                                                        ${a.infoDestination}
                                                                        <a class="tekst" href="${a.href}" target="_blank">here</a>.
                                                                    </p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                    </div>
                                                </div>
                                            </div>`))}),b("quickLink",function(a){$("#quick").html(a.map(a=>`
                <a href="${a.href}">${a.name}</a>
        `)),$("#quick").append(`<button type="button" class="btn card-link blink" data-toggle="modal" data-target="#Author">Author</button>`)}),b("social",function(a){$("#Footer-social,#Social").html(a.map(a=>` <a href="${a.href}" target="_blank"><i class="${a.iconClass}"></i></a>`))}),document.getElementById("btnCheck").addEventListener("click",function(){var a=document.getElementById("fname"),b=document.getElementById("lname"),c=document.getElementById("email"),d=document.getElementById("book-it"),e=document.getElementById("subject"),f=document.getElementById("message"),g=new Date,h=g.getFullYear()+"-"+("0"+(g.getMonth()+1)).slice(-2)+"-"+("0"+g.getDate()).slice(-2),i=d.value,j=/^([A-ZĐŽŠČĆ][a-zđžščć]{2,20})+$/,k=/^[A-z][\w]{2,}/,l=0;j.test(a.value)?(a.innerHTML="",a.nextElementSibling.innerHTML="",a.classList.remove("borderRed"),a.nextElementSibling.classList.remove("textRed")):(a.innerHTML="",a.nextElementSibling.innerHTML="First name must have first letter uppercase and minimum 3 letters in total.",a.classList.add("borderRed"),a.nextElementSibling.classList.add("textRed"),l++),j.test(b.value)?(b.innerHTML="",b.nextElementSibling.innerHTML="",b.classList.remove("borderRed"),b.nextElementSibling.classList.remove("textRed")):(b.innerHTML="",b.nextElementSibling.innerHTML="Last name must have first letter uppercase and minimum 3 letters in total.",b.classList.add("borderRed"),b.nextElementSibling.classList.add("textRed"),l++),/^[a-z][\w\.]*\@[a-z0-9]{3,20}(\.[a-z]{3,5})?\.[a-z]{2,3}$/.test(c.value)?(c.innerHTML="",c.nextElementSibling.innerHTML="",c.classList.remove("borderRed"),c.nextElementSibling.classList.remove("textRed")):(c.innerHTML="",c.nextElementSibling.innerHTML="The email must have minimum 3 character before @.",c.classList.add("borderRed"),c.nextElementSibling.classList.add("textRed"),l++),d.value?i<h?(d.nextElementSibling.innerHTML="Booking in past isn't possible.",d.classList.add("borderRed"),d.nextElementSibling.classList.add("textRed"),l++):(d.nextElementSibling.innerHTML="",d.classList.remove("borderRed"),d.nextElementSibling.classList.remove("textRed")):(d.nextElementSibling.innerHTML="Please book date.",d.classList.add("borderRed"),d.nextElementSibling.classList.add("textRed"),l++),k.test(e.value)?(e.nextElementSibling.innerHTML="",e.classList.remove("borderRed"),e.nextElementSibling.classList.remove("textRed")):(e.nextElementSibling.innerHTML="Please write subject, minimum 3 characters and start with letter.",e.classList.add("borderRed"),e.nextElementSibling.classList.add("textRed"),l++),k.test(f.value)?(f.nextElementSibling.innerHTML="",f.classList.remove("borderRed"),f.nextElementSibling.classList.remove("textRed")):(f.nextElementSibling.innerHTML="Please write question or some information about your booking, minimum 3 characters and start with letter.",f.classList.add("borderRed"),f.nextElementSibling.classList.add("textRed"),l++),console.log(l),0==l&&window.alert("Expect mail from our customer service.")}),$(window).scroll(function(){200<$(this).scrollTop()?$(".back-to-top").fadeIn("slow"):$(".back-to-top").fadeOut("slow")}),$(".back-to-top").click(function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}),$(window).scroll(function(){0<$(this).scrollTop()?$(".navbar").addClass("nav-sticky"):$(".navbar").removeClass("nav-sticky")}),$(document).ready(function(){function a(){992<$(window).width()?$(".navbar .dropdown").on("mouseover",function(){$(".dropdown-toggle",this).trigger("click")}).on("mouseout",function(){$(".dropdown-toggle",this).trigger("click").blur()}):$(".navbar .dropdown").off("mouseover").off("mouseout")}a(),$(window).resize(a)})});